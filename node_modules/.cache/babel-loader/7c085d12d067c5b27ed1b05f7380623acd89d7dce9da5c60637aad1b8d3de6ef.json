{"ast":null,"code":"var _jsxFileName = \"/home/innofied/Desktop/Hackathon/src/components/Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Calendar from './Calendar';\nimport Event from './Event';\nimport CreateEvent from './CreateEvent';\n\n//Import fireStore reference from frebaseInit file\nimport { db } from \"../firebase-init\";\n\n//Import all the required functions from fireStore\nimport { collection, getDocs, where, query } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = ({\n  currentUser\n}) => {\n  _s();\n  const [events, setEvents] = useState();\n  const [selfEvents, setSelfEvents] = useState();\n  const [activeTab, setActiveTab] = useState('managing');\n\n  // Fetch events data from the \"Events\" collection based on the \"attended\" array\n  const fetchEventsData = async (eventIDs = []) => {\n    const eventsData = [];\n\n    // Loop through each event reference in the \"attended\" array\n    for (const eventId of eventIDs) {\n      try {\n        // Create a query to find events based on the \"attended\" array\n        const eventsCollection = collection(db, 'Events');\n        const q = query(eventsCollection, where('uid', '==', currentUser.uid));\n\n        // Execute the query\n        const querySnapshot = await getDocs(q);\n\n        // Loop through the query results and add event data to eventsData array\n        querySnapshot.forEach(doc => {\n          eventsData.push(doc.data());\n        });\n        return eventsData;\n      } catch (error) {\n        console.error('Error fetching events data:', error);\n        // Handle error\n        return eventsData; // Return an empty array or handle error as needed\n      }\n    }\n\n    return eventsData;\n  };\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n  };\n  useEffect(() => {\n    // Call the function to fetch attended events data\n    fetchEventsData(currentUser.attended).then(eventsData => {\n      console.log('Fetched attended events data:', eventsData);\n      setEvents(eventsData);\n    });\n\n    // Fetch self managed events data\n    fetchEventsData(currentUser.events).then(eventsData => {\n      console.log('Fetched managed events data:', eventsData);\n      setSelfEvents(eventsData);\n    });\n  }, [currentUser]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"nav nav-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-link ${activeTab === 'upcoming' ? 'active' : ''}`,\n          onClick: () => handleTabChange('upcoming'),\n          children: \"Upcoming\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-link ${activeTab === 'managing' ? 'active' : ''}`,\n          onClick: () => handleTabChange('managing'),\n          children: \"Managing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-link ${activeTab === 'attending' ? 'active' : ''}`,\n          onClick: () => handleTabChange('attending'),\n          children: \"Attended\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-link ${activeTab === 'create' ? 'active' : ''}`,\n          onClick: () => handleTabChange('create'),\n          children: \"Create Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: [activeTab === 'managing' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: selfEvents && selfEvents.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Event, {\n            event: event\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), activeTab === 'attending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: events && events.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Event, {\n            event: event\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), activeTab === 'upcoming' && /*#__PURE__*/_jsxDEV(Calendar, {\n        user: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), activeTab === 'create' && /*#__PURE__*/_jsxDEV(CreateEvent, {\n        user: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"pX7eGZaHjMWMeixQzO43KKc0WMI=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","Calendar","Event","CreateEvent","db","collection","getDocs","where","query","jsxDEV","_jsxDEV","Profile","currentUser","_s","events","setEvents","selfEvents","setSelfEvents","activeTab","setActiveTab","fetchEventsData","eventIDs","eventsData","eventId","eventsCollection","q","uid","querySnapshot","forEach","doc","push","data","error","console","handleTabChange","tab","attended","then","log","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","event","index","user","_c","$RefreshReg$"],"sources":["/home/innofied/Desktop/Hackathon/src/components/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Calendar from './Calendar';\r\nimport Event from './Event'\r\nimport CreateEvent from './CreateEvent';\r\n\r\n//Import fireStore reference from frebaseInit file\r\nimport {db} from \"../firebase-init\";\r\n\r\n//Import all the required functions from fireStore\r\nimport { collection, getDocs, where, query} from \"firebase/firestore\"; \r\n\r\nconst Profile = ({ currentUser }) => {\r\n  const [events, setEvents] = useState();\r\n  const [selfEvents, setSelfEvents] = useState();\r\n  const [activeTab, setActiveTab] = useState('managing');\r\n\r\n  // Fetch events data from the \"Events\" collection based on the \"attended\" array\r\n  const fetchEventsData = async (eventIDs=[]) => {\r\n    const eventsData = [];\r\n\r\n    // Loop through each event reference in the \"attended\" array\r\n    for (const eventId of eventIDs) {\r\n      try {\r\n        // Create a query to find events based on the \"attended\" array\r\n        const eventsCollection = collection(db, 'Events');\r\n        const q = query(eventsCollection, where('uid', '==', currentUser.uid));\r\n    \r\n        // Execute the query\r\n        const querySnapshot = await getDocs(q);\r\n    \r\n        // Loop through the query results and add event data to eventsData array\r\n        querySnapshot.forEach((doc) => {\r\n          eventsData.push(doc.data());\r\n        });\r\n    \r\n        return eventsData;\r\n      } catch (error) {\r\n        console.error('Error fetching events data:', error);\r\n        // Handle error\r\n        return eventsData; // Return an empty array or handle error as needed\r\n      }\r\n    }\r\n\r\n    return eventsData;\r\n  };\r\n\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Call the function to fetch attended events data\r\n    fetchEventsData(currentUser.attended).then((eventsData) => {\r\n      console.log('Fetched attended events data:', eventsData);\r\n      setEvents(eventsData)\r\n    });\r\n    \r\n    // Fetch self managed events data\r\n    fetchEventsData(currentUser.events).then((eventsData) => {\r\n      console.log('Fetched managed events data:', eventsData);\r\n      setSelfEvents(eventsData)\r\n    });\r\n  }, [currentUser])\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <ul className=\"nav nav-tabs\">\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab === 'upcoming' ? 'active' : ''}`}\r\n            onClick={() => handleTabChange('upcoming')}\r\n          >\r\n            Upcoming\r\n          </button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab === 'managing' ? 'active' : ''}`}\r\n            onClick={() => handleTabChange('managing')}\r\n          >\r\n            Managing\r\n          </button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab === 'attending' ? 'active' : ''}`}\r\n            onClick={() => handleTabChange('attending')}\r\n          >\r\n            Attended\r\n          </button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button\r\n            className={`nav-link ${activeTab === 'create' ? 'active' : ''}`}\r\n            onClick={() => handleTabChange('create')}\r\n          >\r\n            Create Event\r\n          </button>\r\n        </li>\r\n      </ul>\r\n\r\n      <div className=\"mt-3\">\r\n        {activeTab === 'managing' && (\r\n          <div className=\"row\">\r\n            {selfEvents && selfEvents.map((event, index) => (\r\n              <div key={index} className=\"col-md-12 mb-4\">\r\n                <Event event={event} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'attending' && (\r\n          <div className=\"row\">\r\n            {events && events.map((event, index) => (\r\n              <div key={index} className=\"col-md-12 mb-4\">\r\n                <Event event={event} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'upcoming' && (\r\n          <Calendar user={currentUser} />\r\n        )}\r\n        {activeTab === 'create' && (\r\n          <CreateEvent user={currentUser} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}